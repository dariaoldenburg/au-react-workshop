(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,function(e,n,t){e.exports=t(25)},,,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(5),c=t.n(i),l=(t(18),t(19),t(6)),o=t(7),s=t(10),u=t(8),d=t(11),m=t(1),h=t(2),g=t.n(h);t(20);function f(e){return r.a.createElement("div",{className:g()("Cell",Object(m.a)({"Cell--header":e.header,"Cell--padded":e.padded,"Cell--scrollable":e.scrollable},"Cell--textAlign-".concat(e.textAlign),e.textAlign)),style:{width:"".concat(e.widthPercentage,"%"),height:e.height}},e.children)}f.defaultProps={header:!1,padded:!0,scrollable:!1,textAlign:"left"};var b=t(9),v=t(3),p=t(27),E=1,w=void 0,y=new p.a([]),O=new p.a([]);function S(e){O.next([].concat(Object(v.a)(O.value),[{id:++E,content:e.content,createdAt:(new Date).toString(),name:w.name,color:w.color}]))}function k(e){y.next([].concat(Object(v.a)(y.value),[e]))}function j(){return w?new Promise(function(e,n){setTimeout(function(){var n;w&&(n=w,y.next(y.value.filter(function(e){return e.id!==n.id})),S({content:"** odchodzi ".concat(w.name,"...")})),e()},500)}):Promise.resolve()}setTimeout(function(){k({id:++E,name:"geron"}),k({id:++E,name:"hit_fm",color:"pink",senior:!0}),k({id:++E,name:"kasienka2"}),k({id:++E,name:"Lady_Ann_"}),k({id:++E,name:"MalWINKaaa",color:"orange",senior:!0})},1e3);t(21);function C(e){return r.a.createElement("div",{className:"Row"},e.children)}t(22);function x(e){return r.a.createElement("div",{className:"UsersList"},e.users.map(function(e){return r.a.createElement("div",{key:e.id||e.name,className:"UsersList__item",style:{color:e.color||"black",fontWeight:e.senior?"bold":void 0}},e.name)}))}function P(e){return r.a.createElement(r.a.Fragment,null,e.messages.map(function(e){var n=new Date(e.createdAt);return r.a.createElement("div",{key:e.id||e.content},r.a.createElement("strong",null,"[",n.toLocaleTimeString(),"]"),r.a.createElement("span",{style:{color:e.color}}," ",e.name,": "),e.content)}))}t(23);function N(e){var n,t=e.children,a=e.onClick,i=e.variant,c=e.disabled,l=e.type,o=e.fullWidth;return r.a.createElement("button",{className:g()("Button",(n={},Object(m.a)(n,"Button--variant--".concat(i),!0),Object(m.a)(n,"Button--fullWidth",o),n)),onClick:a,disabled:c,type:l},t)}N.defaultProps={variant:"primary"};t(24);function U(e){var n=e.onChange,t=e.onSubmit,a=e.message,i=e.disabled;return r.a.createElement("form",{onSubmit:function(e){return function(e,n){e.preventDefault(),n&&n()}(e,t)},className:"MessageBox"},r.a.createElement("textarea",{value:a,onChange:function(e){return function(e,n){n&&n(e.target.value)}(e,n)},className:"MessageBox__textarea",disabled:i}),r.a.createElement(N,{type:"submit",disabled:i},"Wy\u015blij"))}var A=function(e){function n(){var e,t;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(s.a)(this,(e=Object(u.a)(n)).call.apply(e,[this].concat(r)))).state={channelName:"Sieradz - Nasze Radio",currentUser:null,onlineUsers:[],onlineUsersLoading:!0,messages:[],messagesLoading:!0,currentMessage:""},t._subscriptions=[],t.handleSendMessage=function(){var e,n=t.state.currentMessage;e={content:n},new Promise(function(n,t){setTimeout(function(){S(e),n()},500)}),t.setState({currentMessage:""})},t.handleTextAreaOnChange=function(e){t.setState({currentMessage:e})},t.handleSignIn=function(){var e,n=prompt("Twoje nick: "),a=prompt("Kolor: ","")||void 0;if(n)return(e={name:n,color:a},new Promise(function(n,t){setTimeout(function(){k(w=Object(b.a)({id:++E},e)),S({content:"** przychodzi ".concat(w.name,"...")}),n(w)},500)})).then(function(e){t.setState({currentUser:e})});alert("Podaj nick!")},t.handleSignOut=function(){j(),t.setState({currentUser:null})},t}return Object(d.a)(n,e),Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;y.asObservable().subscribe(function(n){e.setState({onlineUsers:n,onlineUsersLoading:!1})}),O.asObservable().subscribe(function(n){e.setState({messages:n,messagesLoading:!1})})}},{key:"componentWillUnmount",value:function(){this._subscriptions.forEach(function(e){return e.unsubscribe()}),this._subscriptions.length=0}},{key:"render",value:function(){var e=this.state,n=e.channelName,t=e.onlineUsers,a=e.onlineUsersLoading,i=e.messages,c=e.messagesLoading,l=e.currentMessage,o=e.currentUser;return r.a.createElement("div",{className:"Chat"},r.a.createElement(C,null,r.a.createElement(f,{header:!0,widthPercentage:70},r.a.createElement("strong",null,n)),r.a.createElement(f,{header:!0,widthPercentage:30,textAlign:"center"},"Obecni: [",a?"...":t.length,"]")),r.a.createElement(C,null,r.a.createElement(f,{widthPercentage:70,scrollable:!0,height:300},c?r.a.createElement("div",null,"\u0141adowanie..."):r.a.createElement(P,{messages:i})),r.a.createElement(f,{widthPercentage:30,scrollable:!0,height:300},r.a.createElement(x,{users:t}))),r.a.createElement(C,null,r.a.createElement(f,{header:!0,widthPercentage:70},r.a.createElement(U,{onChange:this.handleTextAreaOnChange,onSubmit:this.handleSendMessage,message:l,disabled:!o})),r.a.createElement(f,{widthPercentage:30},o?r.a.createElement(N,{onClick:this.handleSignOut,variant:"secondary",fullWidth:!0},"Wyloguj si\u0119"):r.a.createElement(N,{onClick:this.handleSignIn,variant:"secondary",fullWidth:!0},"Zaloguj si\u0119"))))}}]),n}(r.a.PureComponent);var M=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(A,null))};c.a.render(r.a.createElement(M,null),document.getElementById("root"))}],[[12,1,2]]]);
//# sourceMappingURL=main.8389aefd.chunk.js.map