{"version":3,"sources":["ui/Cell.tsx","ui/ChatAPI.ts","ui/Row.tsx","UsersList.tsx","Chat.tsx","App.tsx","index.tsx"],"names":["Cell","props","react_default","a","createElement","className","classNames","Object","defineProperty","Cell--header","header","Cell--padded","padded","Cell--scrollable","scrollable","concat","textAlign","style","width","widthPercentage","height","children","defaultProps","uuid","currentUser","undefined","users$","BehaviorSubject","messages$","_addMessage","message","next","toConsumableArray","value","id","content","createdAt","Date","toString","_addUser","user","setTimeout","name","color","senior","Promise","resolve","reject","objectSpread","Row","UsersList","users","map","key","fontWeight","Chat","_React$PureComponent","_getPrototypeOf2","_this","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","state","channelName","onlineUsers","onlineUsersLoading","_subscriptions","inherits","createClass","_this2","asObservable","subscribe","setState","forEach","s","unsubscribe","_this$state","Row_Row","Cell_Cell","UsersList_UsersList","React","PureComponent","App","Chat_Chat","ReactDOM","render","src_App","document","getElementById"],"mappings":"6VAcO,SAASA,EAAKC,GACnB,OACEC,EAAAC,EAAAC,cAAA,OACEC,UAAWC,IAAW,OAADC,OAAAC,EAAA,EAAAD,CAAA,CACnBE,eAAgBR,EAAMS,OACtBC,eAAgBV,EAAMW,OACtBC,mBAAoBZ,EAAMa,YAHP,mBAAAC,OAICd,EAAMe,WAAcf,EAAMe,YAEhDC,MAAO,CACLC,MAAK,GAAAH,OAAKd,EAAMkB,gBAAX,KACLC,OAAQnB,EAAMmB,SAGfnB,EAAMoB,UAKbrB,EAAKsB,aAAe,CAClBZ,QAAQ,EACRE,QAAQ,EACRE,YAAY,EACZE,UAAW,kCCvBTO,EAAO,EACPC,OAAgCC,EAE9BC,EAAS,IAAIC,IAAwB,IACrCC,EAAY,IAAID,IAA2B,IAEjD,SAASE,EAAYC,GACnBF,EAAUG,KAAV,GAAAhB,OAAAR,OAAAyB,EAAA,EAAAzB,CACKqB,EAAUK,OADf,CAEE,CACEC,KAAMX,EACNY,QAASL,EAAQK,QACjBC,WAAW,IAAIC,MAAOC,eAK5B,SAASC,EAASC,GAChBd,EAAOK,KAAP,GAAAhB,OAAAR,OAAAyB,EAAA,EAAAzB,CAAgBmB,EAAOO,OAAvB,CAA8BO,KAQ9BC,WAAW,WA8BN,IAAeD,EA7BlBD,EAAS,CAAEL,KAAMX,EAAMmB,KAAM,UAC7BH,EAAS,CAAEL,KAAMX,EAAMmB,KAAM,SAAUC,MAAO,OAAQC,QAAQ,IAC9DL,EAAS,CAAEL,KAAMX,EAAMmB,KAAM,cAC7BH,EAAS,CAAEL,KAAMX,EAAMmB,KAAM,cAC7BH,EAAS,CAAEL,KAAMX,EAAMmB,KAAM,aAAcC,MAAO,SAAUC,QAAQ,IAyBlDJ,EAvBZ,CAAEE,KAAM,YAAaC,MAAO,OA4B7B,IAAIE,QAAQ,SAACC,EAASC,GAC3BN,WAAW,WAGTF,EAFAf,EAAWjB,OAAAyC,EAAA,EAAAzC,CAAA,CAAK2B,KAAMX,GAASiB,IAG/BX,EAAY,CACVM,QAAO,iBAAApB,OAAmBS,EAAYkB,KAA/B,SAGTI,KACC,QArCF,WCzCE,SAASG,EAAIhD,GAClB,OAAOC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OAAOJ,EAAMoB,gBCA9B,SAAS6B,EAAUjD,GACxB,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACZJ,EAAMkD,MAAMC,IAAI,SAAAZ,GAAI,OACnBtC,EAAAC,EAAAC,cAAA,OACEiD,IAAKb,EAAKN,IAAMM,EAAKE,KACrBrC,UAAU,kBACVY,MAAO,CACL0B,MAAOH,EAAKG,OAAS,QACrBW,WAAYd,EAAKI,OAAS,YAASnB,IAGpCe,EAAKE,SCPT,IAAMa,EAAb,SAAAC,GAAA,SAAAD,IAAA,IAAAE,EAAAC,EAAAnD,OAAAoD,EAAA,EAAApD,CAAAqD,KAAAL,GAAA,QAAAM,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAAA,OAAAR,EAAAnD,OAAA4D,EAAA,EAAA5D,CAAAqD,MAAAH,EAAAlD,OAAA6D,EAAA,EAAA7D,CAAAgD,IAAAc,KAAAC,MAAAb,EAAA,CAAAG,MAAA7C,OAAAiD,MACEO,MAAQ,CACNC,YAAa,wBACbC,YAAa,GACbC,oBAAoB,GAJxBhB,EAOUiB,eAAiC,GAP3CjB,EAAA,OAAAnD,OAAAqE,EAAA,EAAArE,CAAAgD,EAAAC,GAAAjD,OAAAsE,EAAA,EAAAtE,CAAAgD,EAAA,EAAAF,IAAA,oBAAApB,MAAA,WASsB,IAAA6C,EAAAlB,KHoCblC,EAAOqD,eGnCOC,UAAU,SAAA7B,GAC3B2B,EAAKG,SAAS,CACZR,YAAatB,EACbuB,oBAAoB,QAb5B,CAAArB,IAAA,uBAAApB,MAAA,WAmBI2B,KAAKe,eAAeO,QAAQ,SAAAC,GAAC,OAAIA,EAAEC,gBACnCxB,KAAKe,eAAeZ,OAAS,IApBjC,CAAAV,IAAA,SAAApB,MAAA,WAuBW,IAAAoD,EACkDzB,KAAKW,MAAtDC,EADDa,EACCb,YAAaC,EADdY,EACcZ,YAAaC,EAD3BW,EAC2BX,mBAElC,OACExE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAACkF,EAAD,KACEpF,EAAAC,EAAAC,cAACmF,EAAD,CAAM7E,QAAM,EAACS,gBAAiB,IAC5BjB,EAAAC,EAAAC,cAAA,cAASoE,IAEXtE,EAAAC,EAAAC,cAACmF,EAAD,CAAM7E,QAAM,EAACS,gBAAiB,GAAIH,UAAU,UAA5C,YACY0D,EAAqB,MAAQD,EAAYV,OADrD,MAKF7D,EAAAC,EAAAC,cAACkF,EAAD,KACEpF,EAAAC,EAAAC,cAACmF,EAAD,CAAMpE,gBAAiB,GAAIL,YAAU,EAACM,OAAQ,KAA9C,gBAGAlB,EAAAC,EAAAC,cAACmF,EAAD,CAAMpE,gBAAiB,GAAIL,YAAU,EAACM,OAAQ,KAC5ClB,EAAAC,EAAAC,cAACoF,EAAD,CAAWrC,MAAOsB,MAItBvE,EAAAC,EAAAC,cAACkF,EAAD,KACEpF,EAAAC,EAAAC,cAACmF,EAAD,CAAM7E,QAAM,EAACS,gBAAiB,IAA9B,0BA/CVoC,EAAA,CAA0BkC,IAAMC,eCDjBC,MARf,WACE,OACEzF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAACwF,EAAD,QCFNC,IAASC,OAAO5F,EAAAC,EAAAC,cAAC2F,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.ac3bf187.chunk.js","sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport './Cell.css';\n\ninterface CellProps {\n  header: boolean;\n  padded: boolean;\n  scrollable?: boolean;\n  textAlign: 'left' | 'center' | 'right';\n  widthPercentage: number;\n  height?: number;\n  children?: React.ReactNode;\n}\n\nexport function Cell(props: CellProps) {\n  return (\n    <div\n      className={classNames('Cell', {\n        'Cell--header': props.header,\n        'Cell--padded': props.padded,\n        'Cell--scrollable': props.scrollable,\n        [`Cell--textAlign-${props.textAlign}`]: props.textAlign\n      })}\n      style={{\n        width: `${props.widthPercentage}%`,\n        height: props.height\n      }}\n    >\n      {props.children}\n    </div>\n  );\n}\n\nCell.defaultProps = {\n  header: false,\n  padded: true,\n  scrollable: false,\n  textAlign: 'left'\n};\n","import { BehaviorSubject } from 'rxjs';\n\nexport interface User {\n  id: number;\n  name: string;\n  color?: string;\n  senior?: boolean;\n}\nexport interface Message {\n  id: number;\n  createdAt: string;\n  content: string;\n}\n\nlet uuid = 1;\nlet currentUser: User | undefined = undefined;\n\nconst users$ = new BehaviorSubject<User[]>([]);\nconst messages$ = new BehaviorSubject<Message[]>([]);\n\nfunction _addMessage(message: { content: string }) {\n  messages$.next([\n    ...messages$.value,\n    {\n      id: ++uuid,\n      content: message.content,\n      createdAt: new Date().toString()\n    }\n  ]);\n}\n\nfunction _addUser(user: User) {\n  users$.next([...users$.value, user]);\n}\n\nfunction _removeUser(user: User) {\n  users$.next(users$.value.filter(u => u.id !== user.id));\n}\n\nfunction _init() {\n  setTimeout(() => {\n    _addUser({ id: ++uuid, name: 'geron' });\n    _addUser({ id: ++uuid, name: 'hit_fm', color: 'pink', senior: true });\n    _addUser({ id: ++uuid, name: 'kasienka2' });\n    _addUser({ id: ++uuid, name: 'Lady_Ann_' });\n    _addUser({ id: ++uuid, name: 'MalWINKaaa', color: 'orange', senior: true });\n\n    login({ name: '~sylwusia', color: 'red' });\n  }, 1000);\n}\n\n_init();\n\nexport function fetchMessages() {\n  return messages$.asObservable();\n}\n\nexport function fetchOnlineUsers() {\n  return users$.asObservable();\n}\n\nexport function createMessage(message: { content: string }) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      _addMessage(message);\n      resolve();\n    }, 500);\n  });\n}\n\nexport function login(user: {\n  name: string;\n  color?: string;\n  senior?: boolean;\n}) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      currentUser = { id: ++uuid, ...user };\n\n      _addUser(currentUser);\n      _addMessage({\n        content: `** przychodzi ${currentUser.name}...`\n      });\n\n      resolve();\n    }, 500);\n  });\n}\n\nexport function logout() {\n  if (!currentUser) {\n    return Promise.resolve();\n  }\n\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (currentUser) {\n        _removeUser(currentUser);\n        _addMessage({\n          content: `** odchodzi ${currentUser.name}...`\n        });\n      }\n      resolve();\n    }, 500);\n  });\n}\n","import React from 'react';\nimport './Row.css';\n\ninterface RowProps {\n  children?: React.ReactNode;\n}\n\nexport function Row(props: { children?: React.ReactNode }) {\n  return <div className=\"Row\">{props.children}</div>;\n}\n","import React from 'react';\nimport { User } from './ui/ChatAPI';\nimport './UsersList.css';\n\ninterface UsersListProps {\n  users: User[];\n}\n\nexport function UsersList(props: UsersListProps) {\n  return (\n    <div className=\"UsersList\">\n      {props.users.map(user => (\n        <div\n          key={user.id || user.name}\n          className=\"UsersList__item\"\n          style={{\n            color: user.color || 'black',\n            fontWeight: user.senior ? 'bold' : undefined\n          }}\n        >\n          {user.name}\n        </div>\n      ))}\n    </div>\n  );\n}\n","import React from 'react';\nimport { Subscription } from 'rxjs';\nimport { Cell } from './ui/Cell';\nimport { fetchOnlineUsers, User } from './ui/ChatAPI';\nimport { Row } from './ui/Row';\nimport { UsersList } from './UsersList';\n\ninterface ChatState {\n  channelName: string;\n  onlineUsers: User[];\n  onlineUsersLoading: boolean;\n}\n\nexport class Chat extends React.PureComponent<{}, ChatState> {\n  state = {\n    channelName: 'Sieradz - Nasze Radio',\n    onlineUsers: [],\n    onlineUsersLoading: true\n  };\n\n  private _subscriptions: Subscription[] = [];\n\n  componentDidMount() {\n    fetchOnlineUsers().subscribe(users => {\n      this.setState({\n        onlineUsers: users,\n        onlineUsersLoading: false\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    this._subscriptions.forEach(s => s.unsubscribe());\n    this._subscriptions.length = 0;\n  }\n\n  render() {\n    const { channelName, onlineUsers, onlineUsersLoading } = this.state;\n\n    return (\n      <div className=\"Chat\">\n        <Row>\n          <Cell header widthPercentage={70}>\n            <strong>{channelName}</strong>\n          </Cell>\n          <Cell header widthPercentage={30} textAlign=\"center\">\n            Obecni: [{onlineUsersLoading ? '...' : onlineUsers.length}]\n          </Cell>\n        </Row>\n\n        <Row>\n          <Cell widthPercentage={70} scrollable height={300}>\n            here be chat\n          </Cell>\n          <Cell widthPercentage={30} scrollable height={300}>\n            <UsersList users={onlineUsers} />\n          </Cell>\n        </Row>\n\n        <Row>\n          <Cell header widthPercentage={70}>\n            here be textarea\n          </Cell>\n        </Row>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport './App.css';\nimport { Chat } from './Chat';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Chat />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}